<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mounts</title>
    <link rel="icon" href="https://i.imgur.com/JFtudNe.png" type="image/png">
    <style>
        body {
            background-color: #0F0F0F;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
.text {
    text-align: center;
    padding: 0px 0px;
    margin: 0px 0px;
}
        /* Your CSS styles here */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 5px -5px 0;
        }

        .square {
            width: calc(20% - 10px);
            box-sizing: border-box;
            margin-right: 5px;
            margin-left: 5px;
            margin-top: 5px;
            margin-bottom: 0px;
            position: relative;
            overflow: hidden;
            
        }

        .square img {
            width: 100%;
            height: auto;
        }
        .obtained-checkbox-container {
    position: absolute;
    top: 10px;
    left: 10px;
    display: none; /* Hide by default */
    align-items: center;
    color: white;
    font-size: 12px; /* Adjust font size as needed */
}

.square:hover .obtained-checkbox-container {
    display: flex; /* Show on hover */
}

.obtained-checkbox {
    margin-right: 5px; /* Add some spacing between checkbox and text */
    cursor: pointer; /* Change cursor to pointer when hovering over the checkbox */
}

.obtained-text {
    cursor: pointer; /* Change cursor to pointer when hovering over the text */
    /* Additional styling for the text if needed */
}

        .additional-text {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 14px;
            text-align: center;
        }

        .square:hover .overlay {
            display: flex;
        }

        header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background-color: #262626;
            border-radius: 0;
            margin-bottom: 10px;
            height: 60px;
            line-height: 30px;
        }

        .header-content {
            display: flex;
            align-items: center;
        }

        .header-buttons {
            display: flex;
            justify-content: center;
        }

        .header-buttons a {
            padding: 0 20px;
            color: white;
            text-decoration: none;
            border-radius: 0;
            transition: transform 0.3s ease;
            line-height: inherit;
        }

        .header-buttons a:hover {
            transform: scale(1.3);
        }

        .filter-container { 
            display: flex; 
            justify-content: center; 
            margin-bottom: 25px; /* Increase margin-bottom for more spacing */
            margin-top: 30px;
        }

    /* Existing styles for .filter-box */
    .filter-box {
        background-color: #262626;
        padding: 10px;
        border-radius: 0px;
        display: flex;
        flex-wrap: wrap;
        width: 50%; /* Set width to 50% of the screen */
        justify-content: left;
    }

    .filter-box label {
        margin-bottom: 10px; /* Add some bottom margin for spacing */
        width: calc(25% - 10px); /* Adjust width for 4 items per row */
    }

    .filter-box input[type="checkbox"] {
        margin-right: 5px;
    }

        .search-bar {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            margin-bottom: 10px;
        }

        .faction-filter-box {
        background-color: #262626;
        padding: 10px;
        border-radius: 0px;
        display: flex;
        flex-wrap: wrap;
        width: 30%; /* Set width to 50% of the screen */
        justify-content: space-between; /* Spread out the buttons evenly */
    }

    .faction-filter-box label {
        margin-bottom: 0px; /* Add some bottom margin for spacing */
        width: calc(30%); /* Adjust width for 3 items per row */
        text-align: center; /* Center-align the text */

    }

    .faction-filter-box input[type="checkbox"] {
        margin-right: 5px;
    }
    .third-filter-box {
        background-color: #262626;
        padding: 10px;
        border-radius: 0px;
        display: flex;
        flex-wrap: wrap;
        width: 30%; /* Set width to 50% of the screen */
        justify-content: space-between; /* Spread out the buttons evenly */
        margin: 0 10px; /* Decreased horizontal margin */

    }

    .third-filter-box label {
        margin-bottom: 0px; /* Add some bottom margin for spacing */
        width: calc(30%); /* Adjust width for 3 items per row */
        text-align: center; /* Center-align the text */

    }

    .third-filter-box input[type="checkbox"] {
        margin-right: 5px;
    }

    .filter-label {
    display: inline-block; /* Ensure labels are displayed in a line */
    margin-right: 10px; /* Add some spacing between labels */
}

.filter-text {
    cursor: pointer; /* Change cursor to pointer when hovering over the text */
    /* Additional styling for the text if needed */
}
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-buttons">
                <a href="index.html">Home</a>
                <a href="mounts.html">Mounts</a>
                <a href="pets.html">Pets</a>
                <a href="toys.html">Toys</a>
            </div>
        </div>
    </header>
    <div class="filter-container">
        <div class="filter-box">
            <input type="text" class="search-bar" placeholder="Search for mounts...">
            <label><input type="checkbox" class="filter" data-tag="achievement" checked>Achievement</label>
            <label><input type="checkbox" class="filter" data-tag="df" checked>Dragonflight</label>
            <label><input type="checkbox" class="filter" data-tag="sl" checked>Shadowlands</label>
            <label><input type="checkbox" class="filter" data-tag="bfa" checked>Battle for Azeroth</label>
            <label><input type="checkbox" class="filter" data-tag="legion" checked>Legion</label>
            <label><input type="checkbox" class="filter" data-tag="wod" checked>Warlords of Draenor</label>
            <label><input type="checkbox" class="filter" data-tag="mop" checked>Mists of Pandaria</label>
            <label><input type="checkbox" class="filter" data-tag="cata" checked>Cataclysm</label>
            <label><input type="checkbox" class="filter" data-tag="wotlk" checked>Wrath of the Lich King</label>
            <label><input type="checkbox" class="filter" data-tag="tbc" checked>The Burning Crusade</label>
            <label><input type="checkbox" class="filter" data-tag="vanilla" checked>Vanilla</label>
            <label><input type="checkbox" class="filter" data-tag="profession" checked>Profession</label>
            <label><input type="checkbox" class="filter" data-tag="pvp" checked>Player vs. Player</label>
            <label><input type="checkbox" class="filter" data-tag="world-event" checked>World Events</label>
            <label><input type="checkbox" class="filter" data-tag="trading-post" checked>Trading Post</label>
            <label><input type="checkbox" class="filter" data-tag="class-specific" checked>Class Specific</label>
        </div>
    </div>

    <div class="filter-container">
        <div class="faction-filter-box">
            <label><input type="checkbox" class="faction-filter" data-faction="alliance">Alliance</label>
            <label><input type="checkbox" class="faction-filter" data-faction="horde">Horde</label>
            <label><input type="checkbox" class="faction-filter" data-faction="both" checked>All</label>
        </div>
    </div>
    <div class="filter-container">
        <div class="third-filter-box">
            <label><input type="checkbox" class="third-filter" data-faction="owned">Obtained</label>
            <label><input type="checkbox" class="third-filter" data-faction="not owned">Not Obtained</label>
            <label><input type="checkbox" class="third-filter" data-faction="all" checked>All</label>
        </div>
    </div>
<div class="obtained-checkbox-container" onclick="toggleCheckbox(this)">
    <input type="checkbox" class="obtained-checkbox">
    <span class="obtained-text">Obtained</span>
</div>
    <div class="row"> 
        <a href="https://www.wowhead.com/spell=48778/acherus-deathcharger" class="square class-specific" data-faction-tag="both" data-mount-id="48778" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-25280.jpg" alt="Acherus Deathcharger">
            <div class="additional-text">Acherus Deathcharger</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44178/reins-of-the-albino-drake" class="square achievement" data-faction-tag="both" data-mount-id="44178" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-25836.jpg" alt="Albino Drake">
            <div class="additional-text">Albino Drake</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44225/reins-of-the-armored-brown-bear" class="square wotlk" data-faction-tag="alliance" data-mount-id="44225" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27820.jpg" alt="Armored Brown Bear">
            <div class="additional-text">Armored Brown Bear</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44226/reins-of-the-armored-brown-bear" class="square wotlk" data-faction-tag="horde" data-mount-id="44226" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27821.jpg" alt="Armored Brown Bear">
            <div class="additional-text">Armored Brown Bear</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=184062/gnawed-reins-of-the-battle-bound-warhound" class="square sl" data-faction-tag="both" data-mount-id="184062" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-98224.jpg" alt="Battle-Bound Warhound">
            <div class="additional-text">Battle-Bound Warhound</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29465/black-battlestrider" class="square pvp" data-faction-tag="alliance" data-mount-id="29465" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14372.jpg" alt="Black Battlestrider">
            <div class="additional-text">Black Battlestrider</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=87795/reins-of-the-black-dragon-turtle" class="square pvp" data-faction-tag="both" data-mount-id="87795" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-43717.jpg" alt="Black Dragon Turtle">
            <div class="additional-text">Black Dragon Turtle</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29221/black-hawkstrider" class="square pvp" data-faction-tag="horde" data-mount-id="29221" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-19478.jpg" alt="Black Hawkstrider">
            <div class="additional-text">Black Hawkstrider</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=46308/black-skeletal-horse" class="square vanilla" data-faction-tag="horde" data-mount-id="46308" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-29130.jpg" alt="Black Skeletal Horse">
            <div class="additional-text">Black Skeletal Horse</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=2411/black-stallion-bridle" class="square vanilla" data-faction-tag="alliance" data-mount-id="2411" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-2402.jpg" alt="Black Stallion">
            <div class="additional-text">Black Stallion</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44223/reins-of-the-black-war-bear" class="square pvp" data-faction-tag="alliance" data-mount-id="44223" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27818.jpg" alt="Black War Bear">
            <div class="additional-text">Black War Bear</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44224/reins-of-the-black-war-bear" class="square pvp" data-faction-tag="horde" data-mount-id="44224" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27819.jpg" alt="Black War Bear">
            <div class="additional-text">Black War Bear</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=35906/reins-of-the-black-war-elekk" class="square pvp" data-faction-tag="alliance" data-mount-id="35906" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-23928.jpg" alt="Black War Elekk">
            <div class="additional-text">Black War Elekk</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29466/black-war-kodo" class="square pvp" data-faction-tag="horde" data-mount-id="29466" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14348.jpg" alt="Black War Kodo">
            <div class="additional-text">Black War Kodo</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=43956/reins-of-the-black-war-mammoth" class="square pvp" data-faction-tag="alliance" data-mount-id="43956" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27247.jpg" alt="Black War Mammoth">
            <div class="additional-text">Black War Mammoth</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=44077/reins-of-the-black-war-mammoth" class="square pvp" data-faction-tag="horde" data-mount-id="44077" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-27245.jpg" alt="Black War Mammoth">
            <div class="additional-text">Black War Mammoth</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29467/black-war-ram" class="square pvp" data-faction-tag="alliance" data-mount-id="29467" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14577.jpg" alt="Black War Ram">
            <div class="additional-text">Black War Ram</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29472/whistle-of-the-black-war-raptor" class="square pvp" data-faction-tag="horde" data-mount-id="29472" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14388.jpg" alt="Black War Raptor">
            <div class="additional-text">Black War Raptor</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29468/black-war-steed-bridle" class="square pvp" data-faction-tag="alliance" data-mount-id="29468" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14337.jpg" alt="Black War Steed">
            <div class="additional-text">Black War Steed</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29471/reins-of-the-black-war-tiger" class="square pvp" data-faction-tag="alliance" data-mount-id="29471" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14330.jpg" alt="Black War Tiger">
            <div class="additional-text">Black War Tiger</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=29469/horn-of-the-black-war-wolf" class="square pvp" data-faction-tag="horde" data-mount-id="29469" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-14334.jpg" alt="Black War Wolf">
            <div class="additional-text">Black War Wolf</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>

        <a href="https://www.wowhead.com/item=46099/horn-of-the-black-wolf" class="square vanilla" data-faction-tag="horde" data-mount-id="46099" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-207.jpg" alt="Black Wolf">
            <div class="additional-text">Black Wolf</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
        <a href="https://www.wowhead.com/item=166468/bloodgorged-hunter" class="square bfa" data-faction-tag="both" data-mount-id="166468" data-obtained="false">
            <img src="https://render.worldofwarcraft.com/eu/npcs/zoom/creature-display-55151.jpg" alt="Bloodgorged Hunter">
            <div class="additional-text">Bloodgorged Hunter</div>
            <div class="obtained-checkbox-container">
                <input type="checkbox" class="obtained-checkbox">
                <span class="obtained-text">Obtained</span>
            </div>
        </a>
    </div>
    <script>
        // Define the confirmRedirect function in the global scope
        function confirmRedirect(element) {
            if (element.classList.contains('mark-obtained')) {
                // If it's the mark as obtained button, return without confirmation
                return;
            }
    
            if (confirm("Are you sure you want to proceed?")) {
                window.location.href = element.href;
            }
        }
    
        document.addEventListener('DOMContentLoaded', function() {
            const filterCheckboxes = document.querySelectorAll('.filter');
            const searchBars = document.querySelectorAll('.search-bar');
            const squares = document.querySelectorAll('.square');
            const factionCheckboxes = document.querySelectorAll('.faction-filter');
                
            function filterSquares() {
    const searchText = searchBars[0].value.toLowerCase().trim();
    const selectedFaction = getSelectedFaction();
    const selectedObtainedFilter = getSelectedObtainedFilter(); // Use the new function

    squares.forEach(function(square) {
        const altText = square.querySelector('img').alt.toLowerCase();
        const additionalText = square.querySelector('.additional-text').textContent.toLowerCase();
        const tags = square.className.split(' ');
        const matchesSearch = altText.includes(searchText) || additionalText.includes(searchText);
        const factionTag = square.dataset.factionTag;
        const obtained = square.getAttribute('data-obtained') === 'true';

        // Initially assume the square should be visible
        let isVisible = matchesSearch;

        // Check for faction match
        const factionMatch = selectedFaction === 'both' || factionTag === selectedFaction || (selectedFaction === 'alliance' && (factionTag === 'alliance' || factionTag === 'both')) || (selectedFaction === 'horde' && (factionTag === 'horde' || factionTag === 'both'));
        isVisible = isVisible && factionMatch;

        // Check for obtained filter match
        if (selectedObtainedFilter === 'owned' && !obtained || selectedObtainedFilter === 'not owned' && obtained) {
            isVisible = false; // Hide the square if it does not match the obtained filter
        }

        // Apply visibility
        square.style.display = isVisible ? 'block' : 'none';
    });
}
            function getSelectedObtainedFilter() {
    const selectedFilter = document.querySelector('.third-filter-box input[type="checkbox"]:checked').getAttribute('data-faction');
    return selectedFilter; // will return 'owned', 'not owned', or 'all'
}
            
    
            function getSelectedFaction() {
                const selectedFactionCheckbox = document.querySelector('.faction-filter:checked');
                return selectedFactionCheckbox ? selectedFactionCheckbox.dataset.faction : 'both';
            }
    
            function handleFactionCheckboxChange(checkbox) {
                if (!checkbox.checked) {
                    // Prevent unchecking the currently selected faction checkbox
                    checkbox.checked = true;
                    return;
                }
    
                // Uncheck other checkboxes
                factionCheckboxes.forEach(function(otherCheckbox) {
                    if (otherCheckbox !== checkbox) {
                        otherCheckbox.checked = false;
                    }
                });
    
                filterSquares(); // Update the filtering based on the new selection
            }
// Add event listener for third-filter checkboxes
const thirdFilterCheckboxes = document.querySelectorAll('.third-filter');
thirdFilterCheckboxes.forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        handleThirdFilterCheckboxChange(checkbox);
    });
});

// Function to handle third-filter checkbox change
function handleThirdFilterCheckboxChange(checkbox) {
    if (!checkbox.checked) {
        // Prevent unchecking the currently selected third-filter checkbox
        checkbox.checked = true;
        return;
    }

    // Uncheck other checkboxes
    thirdFilterCheckboxes.forEach(function(otherCheckbox) {
        if (otherCheckbox !== checkbox) {
            otherCheckbox.checked = false;
        }
    });

    filterSquares(); // Update the filtering based on the new selection
}
function loadObtainedStatus() {
    squares.forEach(function(square) {
        const mountId = square.dataset.mountId;
        const obtained = localStorage.getItem(mountId) === 'true';
        const checkbox = square.querySelector('.obtained-checkbox');
        checkbox.checked = obtained;
        if (obtained) {
            square.classList.add('obtained');
        } else {
            square.classList.remove('obtained');
        }
    });
}

function loadObtainedStatus() {
    squares.forEach(function(square) {
        const mountId = square.dataset.mountId;
        const obtained = localStorage.getItem(mountId) === 'true';
        const checkbox = square.querySelector('.obtained-checkbox');
        checkbox.checked = obtained;
        if (obtained) {
            square.setAttribute('data-obtained', 'true');
        } else {
            square.removeAttribute('data-obtained');
        }
    });
}
    
            loadObtainedStatus();
    
            // Event listeners for search input and tag checkboxes
            searchBars.forEach(function(searchBar) {
                searchBar.addEventListener('input', filterSquares);
            });
    
            filterCheckboxes.forEach(function(checkbox) {
                checkbox.addEventListener('change', filterSquares);
            });
    
            // Add event listener for confirmation dialog before redirection
            squares.forEach(function(square) {
                square.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent default link behavior
                    confirmRedirect(square); // Show confirmation dialog before redirecting
                });
            });
            const obtainedCheckboxes = document.querySelectorAll('.obtained-checkbox');
obtainedCheckboxes.forEach(function(checkbox) {
    checkbox.addEventListener('click', function(event) {
        event.stopPropagation(); // Prevent click event from bubbling up to the square
        const square = checkbox.closest('.square'); // Get the closest parent .square element
        const mountId = square.dataset.mountId;
        localStorage.setItem(mountId, checkbox.checked);
        // Set data-obtained attribute to true or false based on checkbox state
        square.setAttribute('data-obtained', checkbox.checked.toString());
        filterSquares(); // Update the filtering after marking as obtained
    });
});
    
const obtainedTexts = document.querySelectorAll('.obtained-text');
obtainedTexts.forEach(function(text) {
    text.addEventListener('click', function(event) {
        event.stopPropagation(); // Prevent click event from bubbling up to the square
        const checkbox = text.previousElementSibling; // Get the checkbox element
        checkbox.checked = !checkbox.checked; // Toggle checkbox state
        const square = text.closest('.square'); // Get the closest parent .square element
        const mountId = square.dataset.mountId;
        localStorage.setItem(mountId, checkbox.checked);
        // Set data-obtained attribute to true or false based on checkbox state
        square.setAttribute('data-obtained', checkbox.checked.toString());
        filterSquares(); // Update the filtering after marking as obtained
        event.preventDefault(); // Prevent default anchor tag behavior
    });
});
    
            // Add event listener for faction checkboxes
            factionCheckboxes.forEach(function(checkbox) {
                checkbox.addEventListener('change', function() {
                    handleFactionCheckboxChange(checkbox);
                });
            });    
        });      
    </script>
</body>
</html>